\mode<presentation>

\setbeamerfont{frame title}{size=\footnotesize,series=\bfseries}
\setbeamerfont{frame sub title}{size=\normalsize,series=\bfseries}
\setbeamerfont{section in toc}{series=\bfseries}

\makeatletter
	\pretocmd{\tableofcontents}{\vskip0.5em}{}{}
	
	\pretocmd{\beamer@sectionintoc}{\vskip0.5\itemsep}{}{}
	\patchcmd{\beamer@sectionintoc}{\vskip1.5em}{}{}{}
	\apptocmd{\beamer@sectionintoc}{\vskip0.5\itemsep}{}{}
	
	\pretocmd{\beamer@subsectionintoc}{}{}{}
	\apptocmd{\beamer@subsectionintoc}{}{}{}
\makeatother

\setbeamertemplate{section in toc}
{
	\hskip0.25\unit
	\begin{tikzpicture}
		\useasboundingbox (0mm,0mm) rectangle (1.3em,0.8em);
		\fill [rot] (0mm,0mm) rectangle (0.8em,0.8em);
		\node [white] at (0.4em,0.4em) {\tiny \inserttocsectionnumber};
	\end{tikzpicture}%
	\inserttocsection
}

\setbeamertemplate{subsection in toc}{
	\hskip0.25\unit
	\hskip1.8em
	\begin{tikzpicture}
		\useasboundingbox (0mm,0mm) rectangle (0.9em,0.8em);
		\fill [rot] (0mm,0.2em) rectangle (0.4em,0.6em);
	\end{tikzpicture}%
	\inserttocsubsection
	\par
}

\setbeamertemplate{frametitle}
{
	\vspace{-0.04\unit}
	\begin{minipage}[centering][1\unit][c]{\textwidth}
		\usebeamercolor[fg]{frame title}\usebeamerfont{frame title}\insertframetitle
	
		\usebeamercolor[fg]{frame sub title}\usebeamerfont{frame sub title}\insertframesubtitle
	\end{minipage}
	\vspace{-0.11\unit}
}

\setbeamertemplate{headline}
{
	% Empty
}

\setbeamertemplate{footline}
{
	\begin{columns}
		\begin{column}{12\unit}
			\begin{minipage}[c][1\unit][c]{\textwidth}
				\footnotesize \textbf{\insertshortauthor}
			
				\footnotesize \insertshortinstitute
			\end{minipage}
		\end{column}
		\hfill
		\begin{column}{2\unit}
			\begin{minipage}[c][1\unit][c]{\textwidth}
				\begin{flushright}
					\footnotesize Seite \insertframenumber\ von \inserttotalframenumber
				\end{flushright}
			\end{minipage}
		\end{column}
	\end{columns}
}

\newcommand\colcount{}
\newcommand\colalign{}
\newcounter{colnumber}

\newenvironment{cframe}[4]
{
	\def\colcount{#3}
	\def\colalign{#4}
	\setcounter{colnumber}{0}
	\begin{frame}
		\frametitle{\ifthenelse{\equal{#1}{}}{\defaultframetitle}{#1}}
		\framesubtitle{\ifthenelse{\equal{#2}{}}{\defaultframesubtitle}{#2}}
}
{
	\end{frame}
}

\newcommand\colwidth[1]{\dimexpr(15\unit-0.5\unit*(#1-1))/#1\relax}
\newcommand\colspace[0]{\vspace{0.5\unit}}

\newenvironment{ccolumn}
{
	\addtocounter{colnumber}{1}
	\ifthenelse{\value{colnumber}=1}{}{
		\colspace
	}
	\begin{column}{\colwidth{\colcount}}
		\begin{minipage}[c][7\unit][\colalign]{\textwidth}
}
{
		\end{minipage}
	\end{column}
}

\newcommand{\frameSectionTOC}[1]
{
	\begin{cframe}{\sectiontocframetitle}{\sectiontocframesubtitle}{2}{c}
		\begin{columns}
			\begin{ccolumn}
				\tableofcontents[sectionstyle=show/#1,subsectionstyle=hide,subsubsectionstyle=hide]
			\end{ccolumn}
			\begin{ccolumn}
				\contentThemeIcon{outline.png}
			\end{ccolumn}
		\end{columns}
	\end{cframe}
}

\newcommand{\frameSubsectionTOC}[1]
{
	\begin{cframe}{\subsectiontocframetitle}{\subsectiontocframesubtitle}{2}{c}
		\begin{columns}
			\begin{ccolumn}
				\tableofcontents[sectionstyle=show/shaded,subsectionstyle=show/#1/hide,subsubsectionstyle=hide]
			\end{ccolumn}
			\begin{ccolumn}
				\contentThemeIcon{outline.png}
			\end{ccolumn}
		\end{columns}
	\end{cframe}
}

\newcommand{\contentThemeIcon}[1]
{
	\centering {\transparent{0.25}\includegraphics[height=3\unit]{\basepath/icons/#1}}
}

\mode<all>